<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Document</title>
  <script type="text/javascript" src="http://code.jquery.com/jquery-1.12.1.min.js"></script>
  <style>

    .ellipsis_ext,  .ellipsis_ext2{ border:1px solid red;
      overflow: hidden;
      /* width: 100px; */
      word-wrap: break-word; word-break:break-all;-ms-word-break:break-all;-ms-word-wrap: break-word; 
    }

    .ellipsis_ext .ext { margin: 0; padding: 0; font-size: 20px; } 
    .ellipsis_ext > *:first-child {float: right;width: 100%; margin-left: -5px;} 
    .ellipsis_tail {
      display: table; width : 2em;
      position : relative;left : 100%;float : left;
      box-sizing : content-box;
      margin-left : -2em;
      text-align : left;
      padding-left : 3px;
      background : white;
    }
    .ellipsis_tail p {display: table-cell; vertical-align: middle;}

  </style>
</head>
<body>
  
  <div class="ellipsis_ext"><div class="ext">이건 두 줄 이상 되는 문장을 말줄임표를 이용해 줄여주는 multiline ellipsis 예제입니다.</div></div>
  
  <script type="text/javascript">

    var fontSize = null;    
    var pHeight = null;     
    var rowHeight = null;   
    var showLine = 2;       // 말줄임표를 표시할 라인 수
    var lineHeightRatio = 1.2; 
    var initSize = function() {
      $('.ellipsis_ext .ext').css("line-height", lineHeightRatio)
      fontSize = parseInt($('.ellipsis_ext .ext').css('font-size'));
      pHeight = parseInt($('.ellipsis_ext .ext').css('height'));
      rowHeight = fontSize * lineHeightRatio;
    };

    var isOverEllipsisHeight = function() {
      return pHeight > rowHeight * showLine
    };

    var addEllipsis = function() {
      $('.ellipsis_ext .ext').after("<div class='ellipsis_tail'><p>...<p></div>");
      $('.ellipsis_tail').css("top", (rowHeight * (showLine - 1)) + "px");
      $('.ellipsis_tail').css("height", rowHeight + "px");
    };

    var adjustHeightByShowLine = function() {
      $('.ellipsis_ext').css("height", (rowHeight * showLine) + "px");
    };

    $(function() {
      initSize();
      if(isOverEllipsisHeight()) {
        addEllipsis();
        adjustHeightByShowLine();
      }
    });

    var resizeOn = true;
    $(window).on('resize', function() {
      initSize();

      if(isOverEllipsisHeight()) {
        if(resizeOn) {
          addEllipsis();
          adjustHeightByShowLine();
          resizeOn = false;
        }   
      } else {
        if(!resizeOn) {
          $('.ellipsis_tail').remove();
          resizeOn = true;
        }
      }

    });

  </script>
  
  
  <br><br><br><br><br><br>
  
  <style>
    .ellipsis_ext2 { position: relative; height: 45px; overflow: visible;} 
    .pp { float: right; top: 0 }
  </style>
  <div class="ellipsis_ext2">
    <span class="ext">이건 두 줄 이상 되는 문장을 말줄임표를 이용해 줄여주는 multiline ellipsis 예제입니다. <span class="pp">...</span></span>
  </div>
  
  


</body>
</html>