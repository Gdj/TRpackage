<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
<!-- 
  <script type="text/javascript" src="../../../../asset/js/libs/jquery-1.12.1.min.js"></script>
  <script type="text/javascript" src="../../../../asset/js/libs/trpMenu.js"></script>
-->
  <script type="text/javascript" src="../../../../asset/js/libs_vn/trpMenu_vn.js"></script>
  <style>
    .button_box { margin-bottom :20px;}
    .toggle0 { margin-bottom:5px; }
    .toggle0 a		{ display:block; height:30px;	background:url("./images/more.png") 45px 0 no-repeat; }
    .toggle0 a.on	{								background:url("./images/more_on.png") 45px 0 no-repeat; }
    .con { width:300px; height:0; margin-bottom:20px; background-color:#00ff00; 
      overflow: hidden;
      transition: height .5s;
    }
    .con .text { padding: 10px;}
  </style> 

	
</head>
<body>
  <h2>Vanilla JS</h2>
  <div class="button_box">
    <button type="button" name="" class="btn_off"> toggleAllSet(false) </button>
    <button type="button" name="" class="btn_on"> toggleAllSet(true) </button>

    <button type="button" name="" class="set_toggle"> setToggle(3) </button>
    <button type="button" name="" class="btn_set"> setBtn(2) </button>
    <button type="button" name="" class="btn_reset"> reSetBtn(2) </button>
    <button type="button" name="" class="btn_oneset"> setOneBtn(1) </button>
  </div>

  <div class="toggle-warp">
    <div class="toggle0 trp_item">
      <a href="#">버튼0 </a> 
      <div class="con">
        <div class="text">
          내용~0 
        </div>
      </div>
    </div>

    <div class="toggle0 trp_item">
      <a href="#">버튼1 </a> 
      <div class="con">
        <div class="text">
          내용~0 <br>
          내용~0 <br>
          내용~0 <br>
          내용~0 <br>
          내용~0 <br>
          내용~0 
        </div>
      </div>
    </div>

    <div class="toggle0 trp_item">
      <a href="#">버튼2 </a> 
      <div class="con">
        <div class="text">
          내용~0
        </div>
      </div>
    </div>

    <div class="toggle0 trp_item">
      <a href="#">버튼3 </a> 
      <div class="con">
        <div class="text">
          내용~0
        </div>
      </div>
    </div>

    <div class="toggle0 trp_item">
      <a href="#">버튼4 </a> 
      <div class="con">
        <div class="text">
          내용~0
        </div>
      </div>
    </div>
  </div>
  

  <h3 class="text-box">txt-box</h3>
  <h3 class="text-box">txt-box</h3>
  <h3 class="text-box">txt-box</h3>
  
  <script>
    var btnBox = document.querySelector(".button_box");
    var btnControl = new Trp(".toggle0 a");
    var toggleBtn = btnControl.trpToggleBtn(
      function($this) {
        var openH = $this.closest(".trp_item").querySelector(".text").clientHeight;
        console.log("true", openH)
        $this.closest(".trp_item").classList.add('on');
        $this.closest(".trp_item").querySelector(".con").style.height= openH + "px";
      },
      function($this) {
        console.log("false", $this)
        $this.closest(".trp_item").classList.remove('on');
        $this.closest(".trp_item").querySelector(".con").style.height= 0 + "px";
    });

    

    btnBox.querySelector(".btn_off").addEventListener("click", function() {
      toggleBtn.toggleAllSet(false);
    });
    btnBox.querySelector(".btn_on").addEventListener("click", function() {
      toggleBtn.toggleAllSet(true);
    });
    
    btnBox.querySelector(".set_toggle").addEventListener("click", function() {
      toggleBtn.setToggle(3);
    });
    btnBox.querySelector(".btn_set").addEventListener("click", function() {
      toggleBtn.setBtn(2);
    });
    btnBox.querySelector(".btn_reset").addEventListener("click", function() {
      toggleBtn.reSetBtn(2);
    });
    btnBox.querySelector(".btn_oneset").addEventListener("click", function() {
      toggleBtn.setOneBtn(1);
    });



    var trp = new Trp(".text-box");
    console.log( trp.getName("DJ") )
    setTimeout(function(){
      console.log( trp.getName("YM") )
    },3000);



  </script>


</body>
</html>
